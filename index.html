<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><link rel="canonical" href="https://tdenewiler.github.io/node_example/"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="assets/images/favicon.png"><meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.3.1"><title>ROS Node Example</title><link rel="stylesheet" href="assets/stylesheets/application.4031d38b.css"><script src="assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="assets/fonts/material-icons.css"></head><body dir="ltr"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#node-example" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://tdenewiler.github.io/node_example" title="ROS Node Example" class="md-header-nav__button md-logo"><i class="md-icon"></i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">ROS Node Example</span><span class="md-header-nav__topic">Node Example</span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/tdenewiler/node_example/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://tdenewiler.github.io/node_example" title="ROS Node Example" class="md-nav__button md-logo"><i class="md-icon"></i></a>ROS Node Example</label><div class="md-nav__source"><a href="https://github.com/tdenewiler/node_example/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Node Example</label><a href="." title="Node Example" class="md-nav__link md-nav__link--active">Node Example</a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#description" title="Description" class="md-nav__link">Description</a></li><li class="md-nav__item"><a href="#usage" title="Usage" class="md-nav__link">Usage</a></li><li class="md-nav__item"><a href="#branches" title="Branches" class="md-nav__link">Branches</a></li><li class="md-nav__item"><a href="#testing" title="Testing" class="md-nav__link">Testing</a></li></ul></nav></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#description" title="Description" class="md-nav__link">Description</a></li><li class="md-nav__item"><a href="#usage" title="Usage" class="md-nav__link">Usage</a></li><li class="md-nav__item"><a href="#branches" title="Branches" class="md-nav__link">Branches</a></li><li class="md-nav__item"><a href="#testing" title="Testing" class="md-nav__link">Testing</a></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/tdenewiler/node_example/edit/master/docs/index.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="node-example">Node Example</h1>
<p><a href="http://ros.org">ROS</a> allows for creating nodes that communicate with each other.
It is very common to use C++ and Python to write these nodes.</p>
<p>This package contains example nodes written in C++ and Python that show minimal examples of using
some very basic but powerful features of ROS.
Those features include:</p>
<ul>
<li><a href="http://wiki.ros.org/Parameter%20Server">parameter server</a></li>
<li><a href="http://wiki.ros.org/dynamic_reconfigure/Tutorials">dynamic reconfigure</a></li>
<li><a href="http://wiki.ros.org/roscpp/Overview/Timers">timers</a></li>
<li><a href="http://wiki.ros.org/ROS/Tutorials/DefiningCustomMessages">custom messages</a></li>
<li>classes with callback functions for
    <a href="http://wiki.ros.org/roscpp/Overview/Publishers%20and%20Subscribers">publishers and subscribers</a></li>
<li><a href="http://wiki.ros.org/roslaunch/XML/remap">remap</a> topic names</li>
</ul>
<p>More ideas that are explored are deploying documentation using <a href="https://pages.github.com/">GitHub Pages</a>,
writing unit tests, and checking build status and code coverage.</p>
<h2 id="description">Description</h2>
<p>There are several launch files included, the main one being <code>node_example.launch</code>.
This will start a talker and listener written in C++ and a talker and listener written in Python.
One GUI will open allowing you to see what messages are being recieved by the listeners and another GUI will allow
you to change the values sent from each talker.
Both listener nodes receive messages from both talkers, showing that the languages used to write the talkers and
listeners can be mixed.</p>
<h2 id="usage">Usage</h2>
<p><a href="http://wiki.ros.org/catkin/Tutorials/create_a_workspace">Build a workspace</a> containing this repository.
A <code>node_example.rosinstall</code> file has been included for convenience with <a href="http://wiki.ros.org/wstool"><code>wstool</code></a>.</p>
<p>To start all the nodes run</p>
<pre><code>roslaunch node_example node_example.launch
</code></pre>
<p>You should see two windows open: <code>rqt_reconfigure</code> and <code>rqt_console</code>.
They will look like the following screenshots.</p>
<p><img alt="Reconfigure GUI" src="images/reconfigure.png" /></p>
<p><img alt="Console GUI" src="images/console.png" /></p>
<p>At this point you can modify the strings or numbers in the reconfigure GUI and you should see those changes show
up in the console GUI.
There are <code>enable</code> parameters in each of the talker nodes so that the nodes can effectively be paused during runtime.
This is a nice feature that allows easily turning system components on and off during operation for whatever reason
(such as wanting to run multiple similar nodes side-by-side for comparison without using too many CPU/RAM resources,
only running certain nodes when some conditions are met, etc.).</p>
<h2 id="branches">Branches</h2>
<p>The <code>master</code> branch will try to keep up with the latest long-term support release version of ROS (currently Kinetic).
The <code>hydro-dev</code> branch was tested on ROS Hydro, Indigo, and Kinetic.
The <code>fuerte-dev</code> branch was tested on ROS Fuerte.</p>
<h2 id="testing">Testing</h2>
<p>During development there are large benefits to employing unit tests to verify that code changes do not break existing functionality.
This package contains unit tests for each of the C++ nodes.
The unit tests are run using the <code>*.test</code> files in the <code>test/</code> directory.
The <code>*.test</code> files start the node to be tested plus the unit test code.
The unit test code is written such that it publishes and subscribes to the topics that correspond to the interfaces of the node under test.
Callbacks are used to verify that the expected data is available on the specified topics.</p>
<p>There are several methods of running the unit tests.
Running the tests with continuous integration services for pull requests is a common method used to ensure pull requests can be safely merged.
A popular continuous integration provider for open source projects is <a href="https://travis-ci.org">Travis CI</a>.
The build and test results for this package can be found in the table at the top of this page.</p>
<p>Unit tests are not magic bullets.
The inputs to the nodes must take on enough values to verify that functions return valid values.
This will be different for each function and is not fully covered here.
Another aspect of unit tests is to ensure that all lines of code are exercised by unit tests, also referred to as code coverage.</p>
<p>A popular code coverage provider for open source projects is <a href="https://codecov.io">codecov</a>.
The code coverage results for this package can be found in the table at the top of this page.
This tool provides some measure of confidence that the existing unit tests will catch any issues, and that new changes are introduced with unit test code.</p>
<p>The configuration file for Travis is in this repository at <a href=".travis.yml">.travis.yml</a>.
That file contains build flags to ensure that unit tests run and that code coverage results can be calculated.</p></article></div></div></main><footer class="md-footer"><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright">powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.0.4",url:{base:"."}})</script></body></html>